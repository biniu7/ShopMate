---
/**
 * Recipe Edit Page
 * Page for editing existing recipes
 *
 * Route: /recipes/:id/edit
 * Requires authentication (handled by middleware)
 */
import Layout from "@/layouts/Layout.astro";
import { QueryProvider } from "@/components/providers/QueryProvider";
import { RecipeEditView } from "@/components/recipes/RecipeEditView";
import { Toaster } from "@/components/ui/toaster";

// Get recipe ID from URL params
const { id } = Astro.params;

// Validate that id exists
if (!id) {
  return Astro.redirect("/recipes");
}

const title = "Edytuj przepis - ShopMate";
---

<Layout title={title}>
  <QueryProvider client:only="react">
    <RecipeEditView recipeId={id} client:load />
  </QueryProvider>
  <Toaster client:only="react" />
</Layout>
